import{r as i}from"./index.fbb9edb4.js";import{R as p,r as u,a as f,b as g,c as x,d as b}from"./index.04846a42.js";import{L as R}from"./loader.fe9e8604.js";import{A}from"./aos.1b31ad32.js";import{j as e}from"./jsx-runtime.5ec5f311.js";function L(y){const[j,q]=i.useState(!1),[v,c]=i.useState(!0),[w,k]=i.useState([]),[o,F]=i.useState("-virtual-labs/");return i.useEffect(()=>{A.init(),y.type==="outreach"&&F("/")},[]),i.useEffect(()=>{async function s(){console.log("https://api.github.com/repos/virtual-labs/outreach-web-pages-iiith/contents/faq"+o);try{const r=await(await fetch("https://api.github.com/repos/virtual-labs/outreach-web-pages-iiith/contents/faq"+o)).json(),h=[];if(r.length===void 0)return c(!1),0;for(let t=0;t<r.length;t++)if(r[t].type==="dir"){const m=await(await fetch("https://api.github.com/repos/virtual-labs/outreach-web-pages-iiith/contents/"+r[t].path+"/index.mdx")).json(),l=window?.atob(m.content);if(l===void 0)return c(!1),0;h.push(l)}const d=[];for(let t=1;t<=h.length;t++){let a=h[t-1];const m=a.match(/^---\s*\n(?:.+\n)*title:\s*(?<title>.+)\s*\n(?:.+\n)*---\s*\n/m);a=a.replace(/^---\s*\n(?:.+\n)*title:\s*(?<title>.+)\s*\n(?:.+\n)*---\s*\n/m,"");let l=m.groups.title;d.push({q:l,a,open:!1})}d.sort((t,a)=>t.q>a.q?1:-1),k(d),q(!0)}catch{c(!1)}}s()},[o]),j?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"faq-container theme mt-6 pt-6 px-6 pb-2 content",children:[o==="/"?e.jsx("h2",{className:"header theme",children:"Frequently Asked Questions"}):e.jsx("h2",{className:"header theme has-text-white",children:"Frequently Asked Questions"}),Object.values(w).map((s,n)=>e.jsxs(e.Fragment,{children:[e.jsx("button",{"data-aos":"fade-up",offset:"200",style:{color:"white"},className:"box question theme is-size-5 mb-0 mt-2",id:"q-"+n,onClick:()=>{s.open===!1?(s.open=!0,document.getElementById("a-"+n).style.display="block"):(s.open=!1,document.getElementById("a-"+n).style.display="none")},children:e.jsx(p,{children:s.q,rehypePlugins:[u],remarkPlugins:[f,g,x,b]})}),e.jsx("div",{className:"box answer theme",style:{display:"none"},id:"a-"+n,children:e.jsx(p,{children:s.a,rehypePlugins:[u],remarkPlugins:[f,g,x,b]})})]}))]})}):v?e.jsx("div",{className:"faq-container theme",style:{height:"100vh"},children:e.jsx(R,{})}):e.jsx("div",{className:"is-size-1 is-flex is-align-items-center px-5",style:{height:"100vh",color:"black"},children:e.jsxs("p",{children:["Oops! Page could not be displayed :/ You can still find the FAQs documented here:",e.jsx("a",{href:"https://github.com/virtual-labs/outreach-web-pages-iiith/tree/main/faq-virtual-labs",target:"blank",children:"FAQs"})]})})}export{L as F};
